# js란

> https://developer.mozilla.org/ko/docs/Learn/JavaScript/First_steps/What_is_JavaScript

<br>

~~~
JavaScript는 동적으로 변경되는 콘텐츠를 만들고, 멀티미디어를 제어하고, 이미지에 애니메이션을 적용하는 등 거의 모든 작업을 수행할 수 있는 스크립팅 언어다.
~~~

> https://yeji-power.tistory.com/m/36
> https://developer.mozilla.org/ko/docs/Web/API/Document_Object_Model

<br>

<a href="add.md#e">DOM (Document Object Model) </a> API를 사용하면 HTML과 CSS를 조작하여 HTML을 생성, 제거 및 변경하고 페이지에 새 스타일을 동적으로 적용하는 등의 작업을 수행할 수 있습니다. 예를 들어 페이지에 팝업 창이 나타나거나 새로운 콘텐츠가 표시될 때마다(위의 간단한 데모에서 보았듯이) DOM이 작동하는 것입니다.

### 웹 페이지에서 JavaScript는 어떤 일을 하는가

브라우저에서 웹 페이지를 로드하면 실행 환경(브라우저 탭) 내에서 코드(HTML, CSS 및 JavaScript)를 실행하게 됩니다. 이는 원재료(코드)를 받아 제품(웹 페이지)을 출력하는 공장과 같습니다.

<br>

<img src="./img/execution.png" />

JavaScript의 가장 일반적인 용도는 위에서 언급했듯이 DOM (Document Object Model) API를 통해 HTML과 CSS를 동적으로 수정하여 사용자 인터페이스를 업데이트하는 것입니다. 웹 문서의 코드는 일반적으로 페이지에 표시되는 순서대로 로드되고 실행됩니다.

<br>

### JavaScript 실행 순서

브라우저가 JavaScript 블록을 마주치면, 일반적으로는 순서대로 위에서 아래로 실행한다. 따라서 코드 배치 순서에도 주의를 기울여야 한다.

~~~
const para = document.querySelector("p");

para.addEventListener("click", updateName);

function updateName() {
  const name = prompt("Enter a new name");
  para.textContent = `Player 1: ${name}`;
}
~~~

위 코드는 텍스트 단락을 선택(1번 줄)해서 이벤트 수신기를 첨부(3번 줄)하여, 사용자가 단락을 클릭하면 updateName() 코드 블록(5번 ~ 8번 줄)을 실행하도록 합니다. updateName() 코드 블록(이렇게 재사용 가능하도록 나눠놓은 코드 블록을 "함수"라고 합니다)은 새 이름을 요청한 다음 해당 이름을 단락에 삽입하여 표시를 업데이트합니다.

>  이는 매우 흔한 오류로, 코드에서 참조하는 객체가 실제로 존재하는지 확인한 후에 작업을 수행해야 한다.

<br>
<br>

### 인터프리터와 컴파일러

 * 인터프리터 : 사용하는 언어에서는 코드가 위에서 아래로 실행되고 코드 실행 결과가 즉시 반환됩니다. 브라우저에서 코드를 실행하기 전에 코드를 다른 형태로 변환할 필요가 없습니다. 코드는 프로그래머에게 친숙한 텍스트 형식으로 수신되어 바로 처리됩니다.
 * 컴파일러 : 사용하는 컴파일 언어는 컴퓨터에서 실행되기 전에 다른 형태로 변환(컴파일)됩니다. 예를 들어, C/C++에서는 코드를 컴파일러로 기계언어로 변환하여, 그 결과를 컴퓨터가 실행합니다. 프로그램은 프로그램의 원본 소스 코드에서 생성된 이진 형식(바이너리)으로부터 실행됩니다.

 JavaScript는 가볍고, 인터프리터를 사용하는 프로그래밍 언어입니다. 웹 브라우저는 JavaScript 코드를 원문 텍스트 형식으로 입력받아 실행합니다. 기술적인 측면으로 따지자면, 대부분의 모던 JavaScript 인터프리터들은 실제 성능 향상을 위해 JIT 컴파일(just-in-time 컴파일)이라는 기술을 사용하는데, 스크립트의 실행과 동시에 소스 코드를 더 빠르게 실행할 수 있는 이진 형태로 변환하여 최대한 높은 실행 속도를 얻는 방법입니다. 하지만 컴파일이 미리 처리되는 것이 아니라 런타임에 처리되기 때문에 JavaScript는 여전히 인터프리터 언어로 분류됩니다.

<br>
<br>

 ### 서버 사이드와 클라이언트 사이드 코드

 * 클라이언트(사용자) 측에서 처리하는 것.

클라이언트가 입력한것을 수신해서 HTML로 만들4어서 크롬과 같은 어플리케이션에 해석해서 표시.
대표적으로 자바스크립트(Javascript)이 있다.

 * 서버(제공자) 측에서 즉시 처리하는 것.

 서버 사이드는 클라이언트로 보낼 웹 페이지(HTML, JavaScript 등이 담긴)를 만들며,
정말 중요한 작업들(사용자 유효성, DB 관련 등)을 수행한다.
대표적인 언어는 Java, PHP, Ruby, Python, Node.js 등을 언급할 수 있다.

<br>
<br>

### 동적 코드와 정적 코드

동적이라는 단어는 클라이언트 사이드 JavaScript와 서버 사이드 언어를 모두 설명하는 데 사용되며, 웹 페이지/웹 앱의 디스플레이를 업데이트하여 상황에 따라 다른 내용을 표시하고 필요에 따라 새 콘텐츠를 생성하는 기능을 의미합니다. 서버 사이드 코드는 데이터베이스에서 데이터를 가져오는 등 서버에서 새 콘텐츠를 동적으로 생성하는 반면, 클라이언트 사이드 JavaScript는 새 HTML 표를 생성하고 서버에서 요청한 데이터로 채운 다음 사용자에게 표시되는 웹 페이지에 테이블을 표시하는 등 클라이언트 브라우저 내부에서 새 콘텐츠를 동적으로 생성합니다. 두 가지 맥락에서 의미는 약간 다르지만 서로 연관되어 있으며 일반적으로 두 가지 접근 방식(서버와 클라이언트 사이드)이 함께 작동합니다.

동적으로 바뀌는 내용이 없는 웹 페이지를 정적인 페이지라고 하며, 항상 동일한 콘텐츠만 표시합니다.

<br>
<br>

### 스크립트 로딩 전략

> https://velog.io/@ehdgus8054/%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%A1%9C%EB%94%A9-%EC%A0%84%EB%9E%B5

스크립트를 적절한 시점에 불러오는 일에는 몇 가지 문제가 있습니다. 뭐든지 보이는 것만큼 간단하지는 않은 법이죠. 흔히 마주치게 되는 문제는, 페이지의 모든 HTML이 표시되는 순서대로 로드된다는 것입니다. JavaScript를 사용해서 페이지 내의 요소(더 정확하게는 Document Object Model (en-US))를 조작하려고 할 때, 해당 요소를 포함한 HTML 코드보다 JavaScript를 먼저 불러와버리면 코드가 올바르게 동작하지 못할 것입니다.

<br>

### 문제 해결 방법

* Internal Javascript

```
document.addEventListener('DOMContentLoaded', () => {
  // …
});
```
HTML body가 완전히 로그되고 구문분석이 되면 DOMContentLoaded 이벤트가 발생한다.

따라서 DOMContentLoaded 이벤트를 감지하는 이벤트 리스너를 document에 달아줌으로써, HTML이 모두 로드되었을때 해당 블록이 실행되게 만든다.

* External Javascript

이는 HTML 로드 도중에 defer가 적용된 script를 만나면 스크립트와 HTML을 동시에 다운로드하도록 시킨다.
```
<script src="script.js" defer></script>
```
 이 방법의 문제점은 HTML DOM이 로드 완료될때까지 스크립트 로드 및 구문분석이 완전히 차단된다는 점이다.

자바스크립트가 많은 큰 사이트에서는 이로인해 주요 성능 문제가 발생하여 사이트 속도가 느려질 수 있다.

* async and defer

async 어트리뷰트를 사용한 스크립트는 스크립트를 가져오는 동안 HTML 로드 및 구문분석을 차단하지 않고 스크립트를 다운로드 한다.

이 까지는 defer 와 동일하다.

그러나 스크립트의 다운로드가 완료되면 바로 스크립트가 실행되면서 페이지 렌더링을 차단한다.

또한 async 는 스크립트가 특정 순서로 실행된다는 보장이 없다.

그러므로 페이지의 스크립트가 서로 독립적인 경우 async 를 사용하는 것이 가장 좋다.

그에 반해, defer 어트리뷰트는 페이지에 나타나는 순서대로 로드되고 실행된다.

또한 페이지 내용이 모두 로드될 때까지 실행되지 않는다.
```
<script async src="js/vendor/jquery.js"></script>
<script async src="js/script2.js"></script>
<script async src="js/script3.js"></script>
```

* async와 defer 모두 브라우저가 페이지의 다른 내용(DOM 등등)을 불러오는 동안 스크립트를 별도 스레드에서 불러오게 만듭니다. 덕분에 스크립트를 가져오는 동안 페이지 로딩이 중단되지 않습니다.

* async 속성을 지정한 스크립트는 다운로드가 끝나는 즉시 실행합니다. 이렇게 하면 현재 페이지의 렌더링을 중단하며, 특정 실행 순서가 보장되지 않습니다.

* defer 속성을 지정한 스크립트는 순서를 유지한 채로 가져오며 모든 콘텐츠를 다 불러온 이후에 실행합니다.

* 스크립트를 즉시 실행해야 하고 종속성이 없는 경우 async를 사용하세요.

* 다른 스크립트에 의존하거나 DOM 로딩이 필요한 스크립트에는 defer를 사용하여 스크립트를 로드하고, 원하는 순서에 맞춰서 script 요소를 배치하세요.

<br>
<br>

## 변수란

변수란, 숫자(합계나 계산에 사용되는) 또는 문자열(문장의 일부로 사용되는)과 같은 값의 컨테이너입니다. 그러나 변수에 대한 한 가지 특별한 점은 포함된 값이 변경될 수 있다.

변수에 대한 또 다른 점은 문자열과 숫자뿐 아니라 무엇이든 포함 할 수 있다. 변수에는 복잡한 데이터와 함수까지 포함될 수 있다.

변수는 값을 위한 컨테이너이다. 물건들을 저장할 수 있는 작은 골판지 상자와 같다.

<br>

## 변수 선언
<br>
변수를 사용하기 위해서, 먼저 변수를 선언해야 한다.
정확히는 변수를 선언한다고 부른다.

~~~
변수 선언
var myName;
var myAge;
~~~

해당 변수들을 값을 포함하고 있지 않은 빈 컨테이너 이다.
변수 이름만 입력할 경우 undefined값을 반환하며 변서는 undefined를 포함하게 된다. <br>
만약 선언하지 않은 변수는 오류 메시지가 표시된다.
~~~
Uncaught ReferenceError:{변수명} is not defined
~~~

<br>

## 변수 초기화

변수를 선언한 후에는 값으로 초기화 할 수 있다.
변수 이름 다음에 등호와 그 뒤에 부여 할 값을 입력하면 된다.
~~~
myName = "Chris";
myAge = 37;
~~~

다음과 같이 변수를 선언하고 동시에 초기화 할 수 있습니다.
~~~
var myName = "Chris";
~~~

<br>

## 변수의 재지정

변수에 값이 할당되면 다른 값을 지정하여 해당 값을 업데이트 할 수 있다.
~~~
var myName = "Chris"
var myaGE = 39;

myName = "Bob";
myAge = 40;
~~~

<br>

## 변수 이름에 대한 규칙

* 변수 이름의 시작부분에 밑줄(_)을 사용하지 마세요. JavaScript 구문에서 밑줄로 시작하는 것은 특별한 의미를 가지고 있으므로 혼란을 가져올수 있습니다.

* 변수 이름의 시작부분에 숫자를 사용하지 마세요. 허용되지 않으며 오류가 발생합니다.

* 안전한 명명법은 소위 "lower camel case"(소문자 낙타 문법) 입니다. 여러 단어를 하나로 묶고 첫 단어의 시작은 소문자를 사용하며 그다음 단어의 시작은 대문자로 사용합니다. 우리는 지금까지 이 문서에서 변수 이름에 이 방법을 사용해 왔습니다.

* 포함된 데이터를 쉽게 이해 할 수 있게 변수 이름을 직관적으로 부여 합니다. 단일 문자 / 숫자 또는 긴 구절을 사용하지 마세요.변수 이름을 직관적으로 만들어, 포함된 데이터를 표현 할 수 있습니다.

* 변수는 대소문자를 구분 합니다. - myage 와 myAge 는 다른 변수 입니다.

* 마지막으로 JavaScript 예약어를 변수 이름으로 사용하면 안됩니다. (예약어란 JavaScript의 실제 구문을 구성하는 단어를 의미 합니다.) 따라서 변수 이름으로 var, function, let, for 와 같은 단어를 사용 할 수 없습니다. 브라우저는 이러한 단어를 다른 코드 아이템(예약어)로 인식하므로 오류가 발생 합니다.

<br>

### 변수의 종류

* 숫자 <br>
30과 같은 숫자 (정수라고도 함) 나 2.456(부동소수점 또는 부동 소수점 숫자라고도 함) 같은 십진수 숫자를 변수에 저장할 수 있습니다. JavaScript는 일부 프로그래밍 언어처럼 숫자 유형에 따른 다른 데이터 유형을 가지고 있지 않습니다. 변수에 숫자 값 대입할 때, 따옴표 사용하지 않습니다.
```
var myAge = 17;
```

* 문자열 <br>
문자열은 텍스트의 조각입니다. 변수에 문자열 값을 대입할 때, 작은따옴표(')나 큰따옴표(")로 묶어야 합니다. 그렇지 않으면 JavaScript는 다른 변수 이름으로 해석하게 됩니다.
```
var dolphinGoodbye = "So long and thanks for all the fish";
```

* 불리언(Booleans) <br>
불리언(Booleans)은 true 이나 false 라는 값을 가지는 참/거짓을 표현하는 데이터 유형입니다. 일반적으로 조건을 테스트하는 데 사용되며 그 다음 코드가 조건에 따라 실행됩니다. 예를 들어 다음과 같습니다.
```
var iAmAlive = true;

var test = 6 < 3;
 연산자(<) 를 사용하여 6이 3보다 작은지를 확인 합니다. 예상 한대로 6이 3보다 작지 않으므로false 를 반환 합니다
```

* 배열 <br>
배열은 대괄호로 묶이고 쉼표로 구분 된 여러 값을 포함하는 단일 객체이다.
~~~
var myNameArray = ["Chris", "Bob", "Jim"];
var myNumberArray = [10, 15, 40];

다음과 같은 방법으로 값을 추출할 수 있다.
myNameArray[0]; // should return 'Chris'
myNumberArray[2]; // should return 40
~~~

* 객체 <br>
프로그래밍에서 객체(Objects)는 실제 사물(real life object)을 모델링 하는 코드 구조입니다. 예를들어 주차장 객체는 주차장의 높이와 넓이 정보를 가지고 표현 할 수 있으며, 사람 객체는 이름, 키, 몸무게, 사용하는 언어등의 정보를 가지고 표현 할 수 있습니다.

~~~
var dog = { name: "Spot", breed: "Dalmatian" };

다음과 같은 방법으로 값을 추출할 수 있다.
dog.name;
~~~












